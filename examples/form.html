<!DOCTYPE html>
<html>
  <head>
    <title>Form UI Test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style type="text/css">
      label{
        display: block;
        float: left;
        padding-right: 5px;
        text-align: right;
        width: 100px;
      }
    </style>
  </head>
<body>

  <div id="main"></div>

  <form l-view="form" live>
    <div><label>Name</label><input value="$name" name="name" type="text" /></div>
    <div><label>Role</label><input value="$role" name="role" type="text" /></div>
    <div><label>CheckBox</label>
      <input name="A" type="checkbox" isChecked="$A" />A
      <input name="B" type="checkbox" isChecked="$B" />B
    </div>
    <div><label>Notes</label><textarea name="notes"></textarea></div>
    <div><label>&nbsp;</label>
      <button click="form.sayBye">Cancel</button>
      <button click="form.sayHi">Save</button>
    </div>
  </form>

  <script type="text/javascript" src="../../../build/lapiz.js"></script>
  <script type="text/javascript" src="../../../build/template.js"></script>
  <script type="text/javascript" src="../ui.js"></script>
  <script type="text/javascript" src="../uiHelpers.js"></script>

  <script type="text/javascript">
    var $L = Lapiz;

    $L.UI.mediator.form("sayHi", function(form){
      console.log(form);
      console.log("Hi, my name is " + form['name']);
    });

    $L.UI.mediator.form("sayBye", function(form){
      console.log("Goodbye, " + form['name']);
    });

    var ctx = Lapiz.Object(function(){
      this.properties({
        "name": "string",
        "role": "string",
        "A": "bool",
        "B": "bool"
      },{
        "name": "Adam",
        "role": "admin",
        "A": false,
        "B": false
      });
    }).pub;

    $L.UI.render("form > #main", ctx);

    setTimeout(function(){
      ctx.A = true;
    }, 1000)
  </script>
  </body>
</html>